% TODO: There should be an extra clipping for only the remaining coordinates
\newcommand{\partialBoardClipping}{
  \tikzmath{
    \horStart = (-2.5 + \horClipStart) * \step;
    \horEnd = (1 + \horClipEnd) * \step;
    \verStart = (-3.5 + \verClipStart) * \step;
    \verEnd = (2 + \verClipEnd) * \step;
  }

  \clip (\horStart, \verStart) rectangle + 
        (\horEnd, \verEnd);
}

\newenvironment{goban}[1][]{
  \pgfkeys{/phili/goban/.cd, #1}

  \begin{tikzpicture}[scale = \scale, transform shape]
    \calculateStep

    \partialBoardClipping

    \goGrid
}{
    \setcounter{moveCounter}{1}
  \end{tikzpicture}
}