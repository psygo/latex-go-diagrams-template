% From [this](https://tex.stackexchange.com/a/709014/64441),
% [this](https://tex.stackexchange.com/a/709324/64441),
% and [this](https://tex.stackexchange.com/a/709159/64441)
% answers by @StevenB.Segletes.
\long\def\Firstof#1#2\endFirstof{#1}

\newcommand\thecolorofB{black}
\newcommand\thecolorofAB{black}
\newcommand\thecolorofW{white}
\newcommand\thecolorofAW{white}

\long\def\Keytypeof#1{\csname thekeytypeof#1\endcsname}

\newcommand\thekeytypeofB{M}
\newcommand\thekeytypeofAB{A}
\newcommand\thekeytypeofW{M}
\newcommand\thekeytypeofAW{A}

\ignoreemptyitems

\newcommand{\parseSgf}[1]{
  \setsepchar{;||(||)/]/[}
  \readlist*\Z{#1}

  \foreachitem \i \in \Z[]{
    \foreachitem \z \in \Z[\icnt]{
      \itemtomacro\Z[\icnt, \zcnt, 1]\KeyName
      \itemtomacro\Z[\icnt, \zcnt, 2]\KeyValue

      \edef\tmp{{\csname thecolorof\KeyName\endcsname}{\KeyValue}}
      \if\Keytypeof\KeyName M
        \expandafter\drawMoveFromSgfCoords\tmp
      \fi
      \if\Keytypeof\KeyName A
        \expandafter\drawStoneFromSgfCoords\tmp
      \fi
  }}%
}